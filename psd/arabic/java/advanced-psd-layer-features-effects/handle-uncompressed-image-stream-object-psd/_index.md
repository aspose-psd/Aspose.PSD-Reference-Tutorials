---
date: 2025-12-13
description: تعلم كيفية إنشاء كائن رسومات PSD والتعامل مع طبقات PSD عن طريق معالجة
  تدفقات الصور غير المضغوطة باستخدام Aspose.PSD للغة Java.
linktitle: Handle Uncompressed Image Stream Object in PSD - Java
second_title: Aspose.PSD Java API
title: إنشاء كائن رسومات PSD – تدفق غير مضغوط في Java
url: /ar/java/advanced-psd-layer-features-effects/handle-uncompressed-image-stream-object-psd/
weight: 26
---

{{< blocks/products/pf/main-wrap-class >}}
{{< blocks/products/pf/main-container >}}
{{< blocks/products/pf/tutorial-page-section >}}

# إنشاء كائن رسومات PSD – تدفق غير مضغوط في Java

## مقدمة
مرحبًا بك في عالم معالجة الصور في Java! في هذا الدرس ستقوم **بإنشاء كائن رسومات PSD** والتعامل مع كائنات تدفق الصور غير المضغوطة باستخدام Aspose.PSD for Java. سواء كنت مصممًا جرافيكيًا يسعى لأتمتة سير عمله أو مطور برامج يرغب في دمج قدرات معالجة الصور القوية في تطبيقاته، فإن هذا الدليل مُصمم خصيصًا لك. سنستعرض كل شيء من المتطلبات المسبقة إلى الخاتمة، لضمان أن يكون لديك فهم قوي لكيفية البدء مع Aspose.PSD.

## إجابات سريعة
- **ماذا يعني “إنشاء كائن رسومات PSD”؟** يشير إلى إنشاء سياق رسومي لملف PSD بحيث يمكنك الرسم أو تعديل محتوياته.  
- **أي مكتبة تتعامل مع التدفقات غير المضغوطة؟** توفر Aspose.PSD for Java دعمًا كاملاً للبيانات الصافية (غير المضغوطة).  
- **هل أحتاج إلى ترخيص للتطوير؟** النسخة التجريبية المجانية تكفي للاختبار؛ الترخيص التجاري مطلوب للإنتاج.  
- **هل يمكنني تعديل طبقات PSD بعد إنشاء كائن الرسومات؟** نعم – يتيح لك كائن Graphics الرسم على أي طبقة.  

## المتطلبات المسبقة
قبل أن نغوص في الكود، دعنا نتأكد من أن لديك كل ما تحتاجه للبدء في هذه الرحلة. إليك المتطلبات المسبقة:

### مجموعة تطوير جافا (JDK)
تأكد من تثبيت JDK على جهازك. يمكنك تنزيله من موقع Oracle أو استخدام OpenJDK.

### Aspose.PSD for Java
تحتاج إلى تنزيل وتثبيت مكتبة Aspose.PSD. هذه المكتبة القوية تتيح لك تعديل ملفات PSD بسهولة. يمكنك الحصول على أحدث نسخة من [هذا الرابط](https://releases.aspose.com/psd/java/).

### بيئة تطوير متكاملة (IDE)
من الأفضل استخدام IDE لكتابة واختبار كود Java الخاص بك. يمكنك استخدام IntelliJ IDEA أو Eclipse أو أي بيئة أخرى تناسبك.

### فهم أساسي للغة Java
الإلمام ببرمجة Java سيجعل العملية أكثر سلاسة. تأكد من معرفتك بالأساسيات مثل الفئات، والطرق، ومعالجة الاستثناءات.

مع إعداد كل شيء، لنشمر عن سواعدنا وننتقل إلى الجزء المثير – كتابة الكود!

## استيراد الحزم
لبدء العمل، نحتاج إلى استيراد الحزم الضرورية للعمل مع Aspose.PSD. أدناه ستجد الاستيرادات التي ستحتاجها عادةً لمعالجة ملفات PSD.

```java
import com.aspose.psd.Graphics;
import com.aspose.psd.Image;
import com.aspose.psd.fileformats.psd.CompressionMethod;
import com.aspose.psd.fileformats.psd.PsdImage;
import com.aspose.psd.imageoptions.PsdOptions;
import java.io.ByteArrayInputStream;
import java.io.ByteArrayOutputStream;
```

الآن، دعنا نقسم الكود إلى خطوات قابلة للهضم لضمان أنك تستطيع المتابعة بسهولة. سنقوم بالإعداد، تحميل ملف PSD، تعديلّه، وحفظ النتيجة.

## الخطوة 1: تحديد دليل المستندات الخاص بك
قبل أن تبدأ بالبرمجة، ستحتاج إلى تحديد مكان وجود ملف PSD الخاص بك. هذا هو أساس إعداد مشروعك.

```java
String dataDir = "Your Document Directory";
```

استبدل `"Your Document Directory"` بالمسار الفعلي حيث يقع ملف PSD (مثلاً layers.psd). سيساعدك ذلك في العثور على ملفاتك دون عناء.

## الخطوة 2: إنشاء تدفق إخراج بايت Array
تحتاج إلى مكان لتخزين الصورة المعدلة قبل القيام بأي شيء بها. سيساعدك `ByteArrayOutputStream` في التقاط بيانات الصورة بسهولة.

```java
ByteArrayOutputStream ms = new ByteArrayOutputStream();
```

هذا السطر يهيئ كائن `ByteArrayOutputStream` جديد يُدعى `ms`. ستستخدم هذا الكائن لحفظ صورتك غير المضغوطة.

## الخطوة 3: تحميل ملف PSD
حان الآن وقت تحميل ملف PSD الفعلي. هنا يبدأ السحر!

```java
PsdImage psdImage = (PsdImage) Image.load(dataDir + "layers.psd");
```

هذا السطر يحمل ملف PSD الخاص بك في كائن `PsdImage`. تأكد من صحة المسار؛ وإلا سيظهر خطأ كما لو كان اختبارًا غير متوقع.

## الخطوة 4: إعداد PsdOptions للحفظ
تحتاج إلى تحديد كيفية حفظ الصورة — غير مضغوطة، بالطبع!

```java
PsdOptions saveOptions = new PsdOptions();
saveOptions.setCompressionMethod(CompressionMethod.Raw);
```

هنا، تنشئ كائن `PsdOptions` وتضبط طريقة الضغط على `Raw`. تضمن هذه الطريقة أن تحتفظ الصورة بجودتها الكاملة وتُحفظ دون أي ضغط.

## الخطوة 5: حفظ الصورة إلى تدفق الإخراج
```java
psdImage.save(ms, saveOptions);
```

هذا السطر يحفظ الصورة المعدلة في `ByteArrayOutputStream` الذي أنشأته في الخطوة 2، باستخدام الخيارات المحددة في الخطوة 4. تتولى طريقة `save` تشفير الصورة بشكل صحيح بناءً على إعداداتك.

## الخطوة 6: إعادة ضبط تدفق الإخراج
بعد الحفظ، يكون تدفق الإخراج في نهايته. تحتاج إلى إعادة ضبطه للقراءة من البداية.

```java
ms.reset();
```

طريقة `reset` هذه تُجهّز `ByteArrayOutputStream` للقراءة من البداية مرة أخرى. فكر فيها كإعادة شريط التسجيل قبل الاستماع إلى أغنيتك المفضلة!

## الخطوة 7: تحميل الصورة التي تم إنشاؤها حديثًا
```java
PsdImage img = (PsdImage) Image.load(new ByteArrayInputStream(ms.toByteArray()));
```

هنا، نقوم بتحميل الصورة مرة أخرى من `ByteArrayOutputStream` إلى كائن `PsdImage` جديد. يمكنك الآن فحص نتائج عملك السابق.

## الخطوة 8: إنشاء كائن رسومات
لمزيد من التعديل أو العرض، ستحتاج إلى إنشاء كائن رسومات.

```java
Graphics graphics = new Graphics(psdImage);
```

هذا السطر يهيئ كائن `Graphics` باستخدام `psdImage` الخاص بك. الآن يمكنك استخدام هذا الكائن للرسم أو تعديل الصورة حسب الحاجة. إنه كأنك تحمل فرشاة رسم في يدك!

## تعديل طبقات PSD باستخدام كائن الرسومات
الآن بعد أن لديك نسخة **Graphics**، يمكنك **تعديل طبقات PSD**—مثل رسم أشكال، إضافة نص، أو تطبيق فلاتر على طبقة محددة. يعمل سياق الرسومات مباشرة على بيانات البكسل الأساسية، مما يمنحك تحكمًا دقيقًا في مظهر كل طبقة.

## المشكلات الشائعة والحلول
- **NullPointerException عند تحميل الملف** – تحقق مرة أخرى من مسار `dataDir` وتأكد من صحة اسم الملف.  
- **إخراج مضغوط رغم استخدام Raw** – تأكد من استدعاء `saveOptions.setCompressionMethod(CompressionMethod.Raw);` قبل طريقة `save`.  
- **كائن الرسومات يظهر فارغًا** – تأكد من أنك ترسم على نسخة `PsdImage` الصحيحة (استخدم النسخة التي تم تحميلها، وليس النسخة الجديدة ما لم يكن ذلك مقصودًا).

## الأسئلة المتكررة
### ما هو Aspose.PSD؟
Aspose.PSD هي مكتبة .NET تمكّن المطورين من إنشاء، تحرير، وتعديل ملفات Photoshop PSD والأنساق المرتبطة بها برمجيًا.

### كيف يمكنني تنزيل Aspose.PSD for Java؟
يمكنك تنزيله من [صفحة الإصدارات](https://releases.aspose.com/psd/java/).

### هل هناك نسخة تجريبية مجانية لـ Aspose.PSD؟
نعم، يمكنك الحصول على نسخة تجريبية مجانية من [هنا](https://releases.aspose.com/).

### هل يمكنني الحصول على دعم لـ Aspose.PSD؟
بالطبع! يمكنك طلب المساعدة في [منتدى دعم Aspose](https://forum.aspose.com/c/psd/34).

### كيف يمكنني الحصول على ترخيص مؤقت لـ Aspose.PSD؟
ما عليك سوى زيارة [صفحة الترخيص المؤقت](https://purchase.aspose.com/temporary-license/) للبدء.

## أسئلة شائعة

**س: هل يمكنني استخدام كائن الرسومات لتعديل طبقة واحدة محددة فقط؟**  
ج: نعم. بعد تحميل ملف PSD، اختر الطبقة المطلوبة عبر `psdImage.getLayers().get_Item(index)` ومرّرها إلى مُنشئ `Graphics`.

**س: هل تؤثر طريقة الضغط Raw على حجم الملف؟**  
ج: تخزن Raw بيانات البكسل دون ضغط، لذا سيكون حجم الملف أكبر من ملفات PSD المضغوطة، لكن جودة الصورة تظل دون تغيير.

**س: هل يمكن تصدير PSD المعدل إلى صيغة أخرى (مثل PNG)؟**  
ج: بالتأكيد. استخدم النسخة المناسبة من `Image.save` مع `PngOptions` بعد التعديل.

**س: ما نسخة Java المطلوبة؟**  
ج: يدعم Aspose.PSD for Java JDK 8 وما بعده.

**س: كيف أحرّر الموارد بعد المعالجة؟**  
ج: استدعِ `psdImage.dispose()` وأغلق أي تدفقات لتفريغ الموارد الأصلية.

---  

**آخر تحديث:** 2025-12-13  
**تم الاختبار مع:** Aspose.PSD for Java (أحدث إصدار)  
**المؤلف:** Aspose  

{{< /blocks/products/pf/tutorial-page-section >}}

{{< /blocks/products/pf/main-container >}}
{{< /blocks/products/pf/main-wrap-class >}}

{{< blocks/products/products-backtop-button >}}