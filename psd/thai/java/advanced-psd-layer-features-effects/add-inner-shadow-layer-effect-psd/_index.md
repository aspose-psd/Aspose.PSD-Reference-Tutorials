---
title: เพิ่มเอฟเฟกต์เลเยอร์เงาภายในใน PSD ด้วย Java
linktitle: เพิ่มเอฟเฟกต์เลเยอร์เงาภายในใน PSD ด้วย Java
second_title: Aspose.PSD Java API
description: เรียนรู้วิธีเพิ่มเอฟเฟกต์เงาภายในให้กับไฟล์ PSD โดยใช้ Aspose.PSD สำหรับ Java ด้วยบทช่วยสอนทีละขั้นตอนนี้ รวมถึงเคล็ดลับและแนวทางปฏิบัติที่ดีที่สุด
type: docs
weight: 12
url: /th/java/advanced-psd-layer-features-effects/add-inner-shadow-layer-effect-psd/
---
## การแนะนำ
คุณพร้อมที่จะดำดิ่งสู่โลกแห่งการเขียนโปรแกรมออกแบบกราฟิกแล้วหรือยัง? หากคุณเคยต้องการจัดการไฟล์ PSD โดยทางโปรแกรม คุณมาถูกที่แล้ว! วันนี้เราจะมาสำรวจวิธีการเพิ่มเอฟเฟกต์เลเยอร์เงาภายในให้กับ PSD (เอกสาร Photoshop) โดยใช้ Aspose.PSD สำหรับ Java ไลบรารีอันทรงพลังนี้ช่วยให้นักพัฒนา Java สามารถทำงานกับไฟล์ PSD ได้อย่างมีประสิทธิภาพ ช่วยให้สามารถจัดการรูปภาพได้หลากหลาย ตั้งแต่การแก้ไขแบบง่ายไปจนถึงเอฟเฟกต์ที่ซับซ้อน
## ข้อกำหนดเบื้องต้น
ก่อนที่เราจะเจาะลึกเรื่องการเขียนโค้ด เรามาตั้งค่ากันก่อน นี่คือสิ่งที่คุณต้องมี:
1.  Java Development Kit (JDK): ตรวจสอบให้แน่ใจว่าคุณได้ติดตั้ง JDK บนระบบของคุณแล้ว มันจำเป็นสำหรับการคอมไพล์และรันโค้ด Java หากคุณยังไม่มี คุณสามารถดาวน์โหลดได้จาก[เว็บไซต์ออราเคิล](https://www.oracle.com/java/technologies/javase-jdk11-downloads.html).
2. ไลบรารี Aspose.PSD: คุณจะต้องเข้าถึงไลบรารี Aspose.PSD คุณสามารถดาวน์โหลดได้อย่างง่ายดายจาก[กำหนดการเปิดตัว](https://releases.aspose.com/psd/java/)- เป็นเครื่องมือที่มีประสิทธิภาพในการจัดการไฟล์ PSD ดังนั้นอย่าลืมคว้าเวอร์ชันล่าสุด
3. สภาพแวดล้อมการพัฒนาแบบรวม (IDE): แม้ว่าคุณจะสามารถใช้โปรแกรมแก้ไขข้อความใดๆ ได้ แต่เราขอแนะนำให้ใช้ IDE เช่น IntelliJ IDEA, Eclipse หรือ NetBeans สิ่งเหล่านี้มีฟีเจอร์ที่เป็นประโยชน์ เช่น การเน้นไวยากรณ์และเครื่องมือแก้ไขจุดบกพร่อง
4. ความรู้พื้นฐานของ Java: ความคุ้นเคยกับพื้นฐานของ Java เช่น ตัวแปร คลาส และเมธอด จะช่วยให้คุณปฏิบัติตามได้อย่างราบรื่น
5. ไฟล์ PSD ตัวอย่าง: หากต้องการทดสอบโค้ด ตรวจสอบให้แน่ใจว่าคุณมีไฟล์ PSD ตัวอย่าง คุณสามารถสร้างได้ใน Adobe Photoshop หรือดาวน์โหลดตัวอย่างฟรีทางออนไลน์
## แพ็คเกจนำเข้า
เมื่อคุณมีทุกอย่างที่ตั้งค่าและพร้อมใช้งานแล้ว ขั้นตอนแรกคือการนำเข้าแพ็คเกจที่จำเป็นในคลาส Java ของคุณ นี่เป็นสิ่งสำคัญสำหรับการเข้าถึงฟังก์ชัน Aspose.PSD 
## นำเข้าแพ็คเกจที่จำเป็น
```java
import com.aspose.psd.Color;
import com.aspose.psd.Image;
import com.aspose.psd.fileformats.psd.PsdImage;
import com.aspose.psd.fileformats.psd.layers.Layer;
import com.aspose.psd.fileformats.psd.layers.layereffects.IShadowEffect;
import com.aspose.psd.imageloadoptions.PsdLoadOptions;
import com.aspose.psd.imageoptions.PsdOptions;
```
ในบรรทัดเหล่านี้ เรากำลังนำคลาสที่เราต้องการจากไลบรารี Aspose เข้ามา
ตอนนี้เราได้นำเข้าแพ็คเกจและตั้งค่าสภาพแวดล้อมของเราแล้ว เรามาดูรายละเอียดสำคัญของโค้ดกันดีกว่า ฉันจะแบ่งมันออกเป็นขั้นตอนที่สามารถจัดการได้
## ขั้นตอนที่ 1: กำหนดไดเรกทอรี
ในขั้นตอนนี้ เราจะระบุว่าไฟล์ PSD ต้นฉบับของเราอยู่ที่ใด และตำแหน่งที่เราต้องการบันทึกเวอร์ชันที่แก้ไข 
```java
String sourceDir = "Your Source Directory";
String outputDir = "Your Document Directory";
String sourceFile = sourceDir + "sample.psd";
String destName = outputDir + "sample_out.psd";
```
 แทนที่`"Your Source Directory"` และ`"Your Document Directory"` ด้วยเส้นทางจริงบนคอมพิวเตอร์ของคุณ นี่คือที่ที่คุณบอกโปรแกรมของคุณว่าจะค้นหาไฟล์ PSD ได้ที่ไหน และจะบันทึกเวอร์ชันใหม่ได้ที่ไหน
## ขั้นตอนที่ 2: โหลดไฟล์ PSD
 ต่อไปเราต้องโหลดไฟล์ PSD ที่มีอยู่ลงในไฟล์`PsdImage` วัตถุ. เราจะกำหนดค่าตัวเลือกการโหลดให้รวมเอฟเฟกต์ด้วย
```java
PsdLoadOptions loadOptions = new PsdLoadOptions();
loadOptions.setLoadEffectsResource(true);
PsdImage image = (PsdImage) Image.load(sourceFile, loadOptions);
```
 ที่นี่ เรากำลังสร้างอินสแตนซ์ของ`PsdLoadOptions` ตั้งค่าให้โหลดทรัพยากรเอฟเฟกต์ จากนั้นโหลดไฟล์ PSD ตัวอย่างของเราลงในออบเจ็กต์ที่เรียกว่า`image`- เหมือนเปิดหนังสือก่อนอ่าน!
## ขั้นตอนที่ 3: เข้าถึงเลเยอร์สำหรับเอฟเฟกต์
ตอนนี้ เรามาเข้าถึงเลเยอร์สุดท้ายในไฟล์ PSD ของเรากัน (สมมติว่านี่คือเลเยอร์ที่เราต้องการใช้เอฟเฟกต์ของเรา)
```java
try {
    Layer layer = image.getLayers()[image.getLayers().length - 1];
```
บรรทัดนี้เข้าถึงเลเยอร์สุดท้ายของรูปภาพ PSD ของเรา ใน Photoshop เลเยอร์ต่างๆ ก็เหมือนกับแผ่นโปร่งใสที่วางซ้อนกัน และชั้นบนสุดมักจะเป็นสิ่งที่คุณเห็นเป็นอันดับแรก
## ขั้นตอนที่ 4: กำหนดค่าเอฟเฟกต์เงาภายใน
ข้อมูลโค้ดนี้จะใช้เอฟเฟกต์เงาภายในกับเลเยอร์ของเรา 
```java
    IShadowEffect shadowEffect = (IShadowEffect) layer.getBlendingOptions().getEffects()[0];
    shadowEffect.setColor(Color.getGreen());
    shadowEffect.setOpacity((byte) 128);
    shadowEffect.setDistance(1);
    shadowEffect.setUseGlobalLight(false);
    shadowEffect.setSize(2);
    shadowEffect.setAngle(45);
    shadowEffect.setSpread(50);
    shadowEffect.setNoise(5);
```
ความมหัศจรรย์เกิดขึ้นที่นี่! โค้ดนี้จะดึงเอฟเฟกต์เงาจากตัวเลือกการผสมของเลเยอร์และปรับคุณสมบัติของมัน:
- สี: ตั้งค่าเงาให้เป็นสีเขียว
- ความทึบ: ทำให้เป็นแบบกึ่งโปร่งใส
- ระยะทาง: ย้ายเงาเล็กน้อยจากขอบเลเยอร์
- ขนาด: กำหนดขนาดของเงา
- มุม: ระบุทิศทางของแหล่งกำเนิดแสง
- การแพร่กระจายและสัญญาณรบกวน: เปิดตัวเลือกสร้างสรรค์สำหรับลักษณะของเงา
## ขั้นตอนที่ 5: บันทึก PSD ที่แก้ไขแล้ว
เมื่อใช้การตั้งค่าทั้งหมดแล้ว ขั้นตอนต่อไปคือบันทึกไฟล์ PSD ที่แก้ไขแล้วของเรา
```java
    image.save(destName, new PsdOptions(image));
```
บรรทัดนี้บันทึกการเปลี่ยนแปลงของเรา ไฟล์เอาต์พุตมีชื่อว่า`sample_out.psd`และรวมเอฟเฟกต์ทั้งหมดที่เพิ่งปรับใช้ เหมือนกับการคลิก "บันทึก" ใน Photoshop หลังจากทำการแก้ไข
## ขั้นตอนที่ 6: ทำความสะอาดทรัพยากร
สุดท้ายนี้ เราจะตรวจสอบให้แน่ใจว่าได้เพิ่มทรัพยากรที่เราใช้ไปแล้ว
```java
} finally {
    image.dispose();
}
```
 นี่เป็นแนวทางปฏิบัติที่ดีเพื่อป้องกันการรั่วไหลของหน่วยความจำ โดยการกำจัดของ`image` วัตถุ เรามั่นใจว่าแอปพลิเคชันของเราทำงานได้อย่างราบรื่นและมีประสิทธิภาพ
## บทสรุป
และคุณก็ได้แล้ว! ในขั้นตอนง่ายๆ เพียงไม่กี่ขั้นตอน คุณได้เรียนรู้วิธีเพิ่มเอฟเฟกต์เงาภายในให้กับเลเยอร์ในไฟล์ PSD โดยใช้ Aspose.PSD สำหรับ Java ไลบรารีนี้นำเสนอความสามารถที่ยอดเยี่ยมสำหรับทุกคนที่ต้องการทำงานออกแบบกราฟิกแบบอัตโนมัติหรือรวมคุณสมบัติการจัดการรูปภาพเข้ากับแอปพลิเคชัน Java ของตน 

## คำถามที่พบบ่อย
### Aspose.PSD คืออะไร  
Aspose.PSD เป็นไลบรารี Java สำหรับการทำงานกับไฟล์ PSD ช่วยให้นักพัฒนาสามารถจัดการเอฟเฟกต์เลเยอร์ มาสก์ และคุณสมบัติรูปภาพโดยทางโปรแกรม
### ฉันต้องใช้ Photoshop เพื่อใช้ Aspose.PSD หรือไม่  
ไม่ คุณไม่จำเป็นต้องมี Photoshop เพื่อใช้ Aspose.PSD ไลบรารีทำงานอย่างเป็นอิสระสำหรับการจัดการไฟล์ PSD
### ฉันสามารถใช้เอฟเฟ็กต์หลายรายการกับเลเยอร์เดียวกันได้หรือไม่  
อย่างแน่นอน! คุณสามารถใช้เอฟเฟกต์ได้หลายแบบโดยเข้าถึงเอฟเฟกต์แต่ละประเภทเหมือนกับวิธีที่เราเข้าถึงเอฟเฟกต์เงาภายใน
### Aspose.PSD ฟรีหรือไม่  
Aspose.PSD เป็นผลิตภัณฑ์เชิงพาณิชย์ อย่างไรก็ตาม คุณสามารถใช้การทดลองใช้ฟรีผ่าน Aspose ได้
### ฉันจะหาเอกสารเพิ่มเติมได้จากที่ไหน?  
 คุณสามารถค้นหาเอกสารที่ครอบคลุมสำหรับ Aspose.PSD[ที่นี่](https://reference.aspose.com/psd/java/).