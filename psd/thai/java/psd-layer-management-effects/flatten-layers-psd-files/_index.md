---
title: แผ่เลเยอร์ในไฟล์ PSD โดยใช้ Aspose.PSD Java
linktitle: แผ่เลเยอร์ในไฟล์ PSD โดยใช้ Aspose.PSD Java
second_title: Aspose.PSD Java API
description: ย่อและรวมเลเยอร์ในไฟล์ PSD ได้อย่างง่ายดายโดยใช้ Aspose.PSD สำหรับ Java ทำตามคำแนะนำทีละขั้นตอนนี้เพื่อทำให้การจัดการไฟล์ PSD ของคุณง่ายขึ้น
weight: 13
url: /th/java/psd-layer-management-effects/flatten-layers-psd-files/
---

{{< blocks/products/pf/main-wrap-class >}}
{{< blocks/products/pf/main-container >}}
{{< blocks/products/pf/tutorial-page-section >}}

# แผ่เลเยอร์ในไฟล์ PSD โดยใช้ Aspose.PSD Java

## การแนะนำ

คุณเคยพบว่าตัวเองทำงานกับไฟล์ Photoshop และต้องการวิธีที่ง่ายกว่าในการจัดการเลเยอร์ที่ซับซ้อนเหล่านั้นหรือไม่? คุณโชคดี! วันนี้ เรากำลังดำดิ่งสู่โลกของ Aspose.PSD สำหรับ Java ซึ่งเป็นเครื่องมืออันทรงพลังที่ทำให้การทำงานกับไฟล์ PSD โดยทางโปรแกรมเป็นเรื่องง่าย หนึ่งในคุณสมบัติที่มีประโยชน์ที่เราจะสำรวจคือการทำให้เลเยอร์เรียบขึ้น ไม่ว่าคุณจะต้องการทำให้ภาพทั้งหมดแบนลงหรือเลือกรวมเลเยอร์เฉพาะ Aspose.PSD สำหรับ Java ก็พร้อมรองรับคุณ บทช่วยสอนนี้จะแนะนำคุณตลอดกระบวนการทีละขั้นตอน เพื่อให้แน่ใจว่าคุณพร้อมที่จะจัดการไฟล์ PSD ของคุณด้วยความมั่นใจ

## ข้อกำหนดเบื้องต้น

ก่อนที่เราจะพูดถึงโค้ด โปรดตรวจสอบให้แน่ใจว่าคุณมีทุกสิ่งที่คุณต้องการ:

1. Java Development Kit (JDK): ตรวจสอบให้แน่ใจว่าคุณได้ติดตั้ง JDK 8 หรือสูงกว่าบนระบบของคุณ
2.  Aspose.PSD สำหรับ Java: ดาวน์โหลดและเพิ่มไลบรารี Aspose.PSD ให้กับโปรเจ็กต์ของคุณ คุณสามารถหามันได้[ที่นี่](https://releases.aspose.com/psd/java/).
3. สภาพแวดล้อมการพัฒนาแบบรวม (IDE): IDE เช่น IntelliJ IDEA หรือ Eclipse จะทำให้ประสบการณ์การเขียนโค้ดของคุณราบรื่นยิ่งขึ้น
4. ความรู้พื้นฐานของ Java: แม้ว่าบทช่วยสอนนี้เหมาะสำหรับผู้เริ่มต้น แต่ความรู้พื้นฐานเกี่ยวกับ Java จะช่วยให้คุณปฏิบัติตามได้ง่ายขึ้น
5. ไฟล์ PSD ตัวอย่าง: เตรียมไฟล์ PSD ที่พร้อมสำหรับการทดลอง เราจะใช้เลเยอร์ที่มีหลายชั้นเพื่อสาธิตกระบวนการทำให้เรียบ

ตอนนี้เราเข้าใจสิ่งสำคัญหมดแล้ว เรามาเข้าสู่ส่วนที่สนุกกันดีกว่า นั่นคือการทำงานกับโค้ด!

## แพ็คเกจนำเข้า

ในการเริ่มต้น คุณจะต้องนำเข้าแพ็คเกจที่จำเป็นลงในโปรเจ็กต์ Java ของคุณ แพ็คเกจเหล่านี้จะช่วยให้คุณสามารถทำงานกับไฟล์ PSD โดยใช้ Aspose.PSD สำหรับ Java

```java
import com.aspose.psd.Image;
import com.aspose.psd.fileformats.psd.PsdImage;
import com.aspose.psd.fileformats.psd.layers.Layer;
```

การนำเข้าเหล่านี้จะช่วยให้เราโหลดไฟล์ PSD จัดการเลเยอร์ และบันทึกการเปลี่ยนแปลงได้ ตอนนี้ เรามาแบ่งกระบวนการทำให้เลเยอร์เรียบเป็นขั้นตอนที่สามารถจัดการได้

## ขั้นตอนที่ 1: ทำให้ภาพ PSD ทั้งหมดเรียบขึ้น

ภารกิจแรกคือการทำให้รูปภาพ PSD ทั้งหมดแบนลง สิ่งนี้มีประโยชน์เมื่อคุณต้องการรวมเลเยอร์ทั้งหมดเป็นเลเยอร์เดียว ทำให้จัดการและส่งออกรูปภาพได้ง่ายขึ้น

### 1.1 โหลดไฟล์ PSD

 ขั้นแรก เราจะโหลดไฟล์ PSD ลงในโปรแกรมของเรา ไฟล์นี้ควรอยู่ในไดเร็กทอรีโครงการของคุณ ซึ่งเราจะเรียกว่า`Your Document Directory`.

```java
String dataDir = "Your Document Directory";
String sourceFileName = dataDir + "ThreeRegularLayersSemiTransparent.psd";
PsdImage im = (PsdImage) Image.load(sourceFileName);
```

ข้อมูลโค้ดนี้จะโหลดไฟล์ PSD ที่มีชื่อ`ThreeRegularLayersSemiTransparent.psd` จากไดเร็กทอรีที่คุณระบุ

### 1.2 ทำให้ภาพเรียบขึ้น

ต่อไป เราจะทำให้ภาพทั้งหมดเรียบขึ้น การทำให้เรียบจะรวมเลเยอร์ที่มองเห็นทั้งหมดไว้ในเลเยอร์พื้นหลังเดียว

```java
im.flattenImage();
```

ด้วยซับเดียวนี้ เลเยอร์ทั้งหมดในไฟล์ PSD ของคุณจะถูกรวมเป็นหนึ่งเดียว

### 1.3 บันทึกภาพที่แบนแล้ว

สุดท้าย เราจะบันทึกภาพที่แบนแล้วเป็นไฟล์ใหม่

```java
String exportPath = dataDir + "ThreeRegularLayersSemiTransparentFlattened.psd";
im.save(exportPath);
```

 วิธีนี้จะบันทึกไฟล์ PSD ที่แบนแล้วภายใต้ชื่อใหม่`ThreeRegularLayersSemiTransparentFlattened.psd`- ยินดีด้วย! คุณเพิ่งทำให้ภาพ PSD ภาพแรกของคุณแบนโดยใช้ Aspose.PSD สำหรับ Java

## ขั้นตอนที่ 2: การรวมเลเยอร์เฉพาะ

บางครั้งคุณอาจไม่ต้องการทำให้ภาพทั้งหมดดูเรียบ แต่ควรรวมเฉพาะบางเลเยอร์เท่านั้น มาดูกันว่าคุณจะบรรลุเป้าหมายนั้นได้อย่างไร

### 2.1 โหลดไฟล์ PSD อีกครั้ง

เนื่องจากเรากำลังดำเนินการอื่น ให้เริ่มด้วยการโหลดไฟล์ PSD อีกครั้ง

```java
PsdImage img = (PsdImage) Image.load(sourceFileName);
```

การดำเนินการนี้จะโหลดไฟล์ PSD เดียวกัน พร้อมสำหรับการดำเนินการเฉพาะเลเยอร์

### 2.2 ระบุและเลือกเลเยอร์

หากต้องการรวมเลเยอร์ที่ต้องการ ขั้นแรก ให้ระบุและเลือกเลเยอร์ที่คุณต้องการผสาน

```java
Layer bottomLayer = img.getLayers()[0];
Layer middleLayer = img.getLayers()[1];
Layer topLayer = img.getLayers()[2];
```

ตรงนี้ เราจะเลือกเลเยอร์ที่ 1, 2 และ 3 ของไฟล์ PSD เลเยอร์เหล่านี้ถูกจัดเก็บไว้ในอาร์เรย์ และคุณสามารถเข้าถึงได้โดยใช้ดัชนีของเลเยอร์เหล่านี้

### 2.3 รวมเลเยอร์

ตอนนี้ เรามารวมเลเยอร์ที่เลือกเข้าด้วยกัน เราจะเริ่มต้นด้วยการรวมชั้นล่างและชั้นกลางเข้าด้วยกัน จากนั้นจึงรวมผลลัพธ์เข้ากับชั้นบนสุด

```java
Layer layer1 = img.mergeLayers(bottomLayer, middleLayer);
Layer layer2 = img.mergeLayers(layer1, topLayer);
```

โค้ดนี้จะผสานเลเยอร์ตามลำดับ ส่งผลให้เป็นเลเยอร์ที่รวมกันเพียงชั้นเดียว

### 2.4 แทนที่เลเยอร์ที่มีอยู่ด้วยเลเยอร์ที่ผสาน

หลังจากการผสาน คุณจะต้องแทนที่เลเยอร์ที่มีอยู่ในรูปภาพด้วยเลเยอร์ที่ผสานใหม่

```java
img.setLayers(new Layer[]{layer2});
```

ขั้นตอนนี้ช่วยให้แน่ใจว่าตอนนี้รูปภาพมีเฉพาะเลเยอร์ที่ผสานแล้วเท่านั้น

### 2.5 บันทึกไฟล์ PSD ที่อัปเดต

สุดท้าย ให้บันทึกไฟล์ PSD ที่อัปเดตด้วยเลเยอร์ที่ผสานกัน

```java
exportPath = dataDir + "ThreeRegularLayersSemiTransparentFlattenedLayerByLayer.psd";
img.save(exportPath);
```

วิธีนี้จะบันทึก PSD ด้วยเลเยอร์ที่ผสานกันภายใต้ชื่อใหม่ ช่วยให้คุณสามารถเก็บไฟล์ต้นฉบับไว้ได้

## บทสรุป

การทำงานกับเลเยอร์ในไฟล์ PSD มักจะรู้สึกเหมือนกำลังนำทางในเขาวงกต แต่ด้วย Aspose.PSD สำหรับ Java มันเหมือนกับมีแผนที่อยู่ในมือของคุณ ไม่ว่าคุณจะต้องทำให้ภาพทั้งหมดแบนลงหรือผสานเลเยอร์ที่เลือกอย่างระมัดระวัง Aspose.PSD จะทำให้กระบวนการง่ายขึ้น โดยเปลี่ยนสิ่งที่อาจเป็นงานที่น่ากลัวให้กลายเป็นการดำเนินการที่ไม่ซับซ้อน เมื่อทำตามบทช่วยสอนนี้ ตอนนี้คุณควรจะจัดการกับการจัดการเลเยอร์ในไฟล์ PSD โดยใช้ Java ได้อย่างสะดวก ดังนั้นทำไมไม่ลองใช้โปรเจ็กต์ของคุณเองแล้วดูว่าคุณประหยัดเวลาและความพยายามได้มากแค่ไหน?

## คำถามที่พบบ่อย

### ฉันสามารถยกเลิกการทำให้เลเยอร์แบนใน Aspose.PSD ได้หรือไม่  
ไม่ เมื่อคุณทำให้เลเยอร์เรียบโดยใช้ Aspose.PSD การดำเนินการนี้ไม่สามารถย้อนกลับได้ แนวทางปฏิบัติที่ดีเสมอคือการสำรองข้อมูลไฟล์ต้นฉบับ

### เป็นไปได้ไหมที่จะแบนเฉพาะชั้นที่มองเห็นได้?  
 ได้ คุณสามารถควบคุมได้ว่าจะให้เลเยอร์ใดแบนลงตามการมองเห็น ตรวจสอบให้แน่ใจว่ามองเห็นเฉพาะเลเยอร์ที่คุณต้องการทำให้เรียบก่อนใช้งาน`flattenImage` วิธี.

### เลเยอร์ที่ราบเรียบจะลดขนาดไฟล์หรือไม่  
การทำให้เลเยอร์แบนราบสามารถลดขนาดไฟล์ได้ โดยเฉพาะหากมีเลเยอร์ที่ซับซ้อนจำนวนมาก อย่างไรก็ตาม การลดลงที่แน่นอนนั้นขึ้นอยู่กับเนื้อหาของเลเยอร์

### ฉันสามารถรวมเลเยอร์เข้ากับโหมดการผสมที่แตกต่างกันได้หรือไม่  
ใช่ คุณสามารถผสานเลเยอร์ด้วยโหมดการผสมที่แตกต่างกันได้โดยใช้ Aspose.PSD และเลเยอร์ที่ได้จะคงลักษณะของเลเยอร์ที่ผสานไว้

### จะเกิดอะไรขึ้นหากฉันพยายามรวมเลเยอร์ที่ไม่ได้อยู่ติดกัน  
Aspose.PSD ช่วยให้คุณสามารถผสานเลเยอร์ใดก็ได้โดยไม่คำนึงถึงลำดับในเลเยอร์สแต็ก กระบวนการรวมจะรวมเลเยอร์ที่เลือกไว้ตามที่ระบุ
{{< /blocks/products/pf/tutorial-page-section >}}

{{< /blocks/products/pf/main-container >}}
{{< /blocks/products/pf/main-wrap-class >}}

{{< blocks/products/products-backtop-button >}}
