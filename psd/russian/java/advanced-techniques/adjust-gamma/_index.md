---
date: 2025-12-21
description: Узнайте, как выполнять обработку изображений на Java, регулируя гамму
  изображения с помощью Aspose.PSD. Пошаговое руководство по конвертации PSD в TIFF
  и применению коррекции гаммы.
linktitle: Adjust Gamma of an Image
second_title: Aspose.PSD Java API
title: Обработка изображений в Java – Регулировка гаммы с помощью Aspose.PSD
url: /ru/java/advanced-techniques/adjust-gamma/
weight: 23
---

{{< blocks/products/pf/main-wrap-class >}}
{{< blocks/products/pf/main-container >}}
{{< blocks/products/pf/tutorial-page-section >}}

# Обработка изображений Java – Регулировка гаммы с Aspose.PSD

## Введение

Если вы работаете с **java image processing**, регулировка гаммы изображения — это базовая техника для улучшения яркости и контрастности без потери деталей. В этом руководстве мы пройдемся по использованию **Aspose.PSD for Java** для применения коррекции гаммы к файлу PSD, а затем экспортируем результат в изображение TIFF. Вы увидите, почему такой подход быстрый, надёжный и идеален для серверных конвейеров обработки изображений.

## Быстрые ответы
- **Что делает коррекция гаммы?** Она переопределяет значения яркости, делая тёмные области светлее или светлые — темнее, при этом сохраняет общие детали.  
- **Какая библиотека обрабатывает изображение?** Aspose.PSD for Java предоставляет специализированный метод `adjustGamma` для растровых изображений.  
- **Можно ли конвертировать PSD в TIFF в том же процессе?** Да — после регулировки гаммы вы можете сразу сохранить изображение в TIFF, используя `TiffOptions`.  
- **Нужна ли лицензия для разработки?** Бесплатная пробная версия подходит для тестирования; для использования в продакшене требуется коммерческая лицензия.  
- **Какая версия Java поддерживается?** Aspose.PSD поддерживает Java 8 и новее.

## Что такое обработка изображений Java?

Обработка изображений Java относится к манипуляции, анализу и преобразованию визуальных данных с помощью библиотек Java. Задачи включают изменение размера, фильтрацию, коррекцию цвета и конвертацию форматов — всё это может быть автоматизировано в настольных или веб‑приложениях.

## Почему использовать Aspose.PSD для коррекции гаммы?

Aspose.PSD предлагает высокоуровневый API, который абстрагирует сложность формата PSD, позволяя сосредоточиться на реальных настройках изображения. Он управляет кэшированием, цветовыми профилями и предоставляет простой вызов `adjustGamma`, что делает его идеальным для **image gamma correction** и **convert psd to tiff** рабочих процессов.

## Предварительные требования

Перед тем как приступить к руководству, убедитесь, что у вас настроены следующие требования:

1. **Среда разработки Java** – Убедитесь, что на вашей системе установлен Java‑компилятор и среда выполнения.  
2. **Библиотека Aspose.PSD** – Скачайте и подключите библиотеку Aspose.PSD к вашему Java‑проекту. Необходимые ресурсы можно найти в [documentation](https://reference.aspose.com/psd/java/).  
3. **Пример изображения** – Подготовьте пример PSD‑файла, который вы будете использовать для применения коррекции гаммы.

## Импорт пакетов

Чтобы запустить процесс, импортируйте необходимые пакеты в ваш Java‑проект. Это подготовит основу для бесшовного использования возможностей Aspose.PSD.

```java
import com.aspose.psd.Image;
import com.aspose.psd.RasterImage;

import com.aspose.psd.fileformats.tiff.enums.TiffExpectedFormat;
import com.aspose.psd.fileformats.tiff.enums.TiffPhotometrics;
import com.aspose.psd.imageoptions.TiffOptions;
```

## Шаг 1: Загрузка изображения

Начните с загрузки примерного PSD‑изображения в экземпляр класса `RasterImage`. Это будет фундаментом для последующей регулировки гаммы.

```java
String dataDir = "Your Document Directory";
String sourceFile = dataDir + "sample.psd";

// Load an existing image into an instance of RasterImage class
Image image = Image.load(sourceFile);

// Cast object of Image to RasterImage
RasterImage rasterImage = (RasterImage)image;

// Check if RasterImage is cached for better performance
if (!rasterImage.isCached()) {
    rasterImage.cacheData();
}
```

## Шаг 2: Регулировка гаммы

Теперь отрегулируйте гамму загруженного изображения, используя метод `adjustGamma`. Точно настройте значения гаммы в соответствии с вашими требованиями.

```java
// Adjust the gamma
rasterImage.adjustGamma(2.2f, 2.2f, 2.2f);
```

## Шаг 3: Создание TiffOptions

Создайте экземпляр `TiffOptions` для результирующего изображения. Установите различные свойства, такие как биты на образец и фотометрические параметры, чтобы адаптировать вывод под ваши спецификации.

```java
// Create an instance of TiffOptions for the resultant image
TiffOptions tiffOptions = new TiffOptions(TiffExpectedFormat.Default);
int[] ushort = { 8, 8, 8 };
tiffOptions.setBitsPerSample(ushort);
tiffOptions.setPhotometric(TiffPhotometrics.Rgb);
```

## Шаг 4: Сохранение полученного изображения

Сохраните изменённое изображение в формате TIFF, используя ранее определённый `TiffOptions`.

```java
// Save the resultant image to TIFF format
String destName = dataDir + "AdjustGamma_out.tiff";
rasterImage.save(destName, tiffOptions);
```

## Распространённые проблемы и решения

| Проблема | Почему происходит | Как исправить |
|----------|-------------------|---------------|
| **Изображение выглядит вымытым** | Значение гаммы слишком высоко (например, > 2.5) | Уменьшите фактор гаммы до значения в диапазоне от 1.8 до 2.2. |
| **`rasterImage.isCached()` возвращает false** | Изображение ещё не загружено в память | Вызовите `rasterImage.cacheData()` перед регулировкой гаммы. |
| **Размер TIFF‑файла большой** | Биты на образец установлены в 16‑бит | Используйте 8‑битный образец (`{8,8,8}`), как показано в примере. |

## Часто задаваемые вопросы

**В: Могу ли я применить разные значения гаммы к каждому цветовому каналу?**  
О: Да — метод `adjustGamma` принимает отдельные float‑значения для красного, зелёного и синего каналов.

**В: Можно ли последовательно применять несколько корректировок изображения перед сохранением?**  
О: Абсолютно. Вы можете выполнять изменение размера, обрезку или цветовую коррекцию последовательно на том же экземпляре `RasterImage`.

**В: Поддерживает ли Aspose.PSD многослойные PSD‑файлы?**  
О: Да, каждый слой можно получить и обработать отдельно.

**В: В какие форматы ещё можно экспортировать, помимо TIFF?**  
О: Aspose.PSD поддерживает PNG, JPEG, BMP и многие другие форматы через соответствующие классы опций.

## Заключение

Поздравляем! Вы успешно выполнили **java image processing**, отрегулировав гамму PSD‑файла и экспортировав его в изображение TIFF с помощью Aspose.PSD for Java. Этот рабочий процесс предоставляет тонкий контроль над яркостью и контрастностью изображения, делая его идеальным для автоматизированных графических конвейеров, веб‑служб или настольных утилит.

---

**Последнее обновление:** 2025-12-21  
**Тестировано с:** Aspose.PSD 24.11 for Java  
**Автор:** Aspose  

{{< /blocks/products/pf/tutorial-page-section >}}

{{< /blocks/products/pf/main-container >}}
{{< /blocks/products/pf/main-wrap-class >}}

{{< blocks/products/products-backtop-button >}}
