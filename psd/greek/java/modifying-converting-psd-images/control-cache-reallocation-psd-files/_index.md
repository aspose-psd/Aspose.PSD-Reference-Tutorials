---
title: Ελέγξτε την ανακατανομή της προσωρινής μνήμης σε αρχεία PSD
linktitle: Ελέγξτε την ανακατανομή της προσωρινής μνήμης σε αρχεία PSD
second_title: Aspose.PSD Java API
description: Διαχειριστείτε την ανακατανομή της προσωρινής μνήμης σε αρχεία PSD χρησιμοποιώντας το Aspose.PSD για Java. Μάθετε πώς να βελτιστοποιείτε αποτελεσματικά τη μνήμη και το χειρισμό αρχείων—ιδανικό για προγραμματιστές.
weight: 22
url: /el/java/modifying-converting-psd-images/control-cache-reallocation-psd-files/
---

{{< blocks/products/pf/main-wrap-class >}}
{{< blocks/products/pf/main-container >}}
{{< blocks/products/pf/tutorial-page-section >}}

# Ελέγξτε την ανακατανομή της προσωρινής μνήμης σε αρχεία PSD

## Εισαγωγή
Όταν εργάζεστε με εικόνες και αρχεία Photoshop μέσω προγραμματισμού, η αποτελεσματικότητα είναι βασικός παράγοντας. Το Aspose.PSD για Java προσφέρει ισχυρές δυνατότητες για την απρόσκοπτη διαχείριση και χειρισμό αρχείων PSD. Μία από τις θεμελιώδεις πτυχές της βελτιστοποίησης της απόδοσης είναι ο έλεγχος της ανακατανομής της προσωρινής μνήμης. Η διαχείριση της προσωρινής μνήμης βοηθά στη διατήρηση της ισορροπίας μεταξύ της χρήσης της μνήμης και του δίσκου, διασφαλίζοντας ότι η εφαρμογή σας εκτελείται ομαλά, χωρίς απροσδόκητα σφάλματα ή επιβραδύνσεις. 
## Προαπαιτούμενα
Πριν προχωρήσουμε στο κομμάτι της κωδικοποίησης, υπάρχουν μερικά πράγματα που πρέπει να διασφαλίσετε ώστε όλα να λειτουργούν ομαλά:
1. Java Development Kit (JDK): Βεβαιωθείτε ότι έχετε εγκαταστήσει το JDK στον υπολογιστή σας. Μπορείτε να το κατεβάσετε από[Ο ιστότοπος της Oracle](https://www.oracle.com/java/technologies/javase-jdk11-downloads.html).
2. Aspose.PSD για Java: Πρέπει να κάνετε λήψη της βιβλιοθήκης Aspose.PSD. Μπορείτε να βρείτε την πιο πρόσφατη έκδοση[εδώ](https://releases.aspose.com/psd/java/).
3. Ρύθμιση IDE: Ένα ολοκληρωμένο περιβάλλον ανάπτυξης (IDE) όπως το IntelliJ IDEA ή το Eclipse θα σας διευκολύνει να διαχειριστείτε τον κώδικά σας.
4. Βασική κατανόηση της Java: Η εξοικείωση με τον προγραμματισμό Java θα σας βοηθήσει να κατανοήσετε καλύτερα τις έννοιες και τα αποσπάσματα κώδικα.
5.  Aspose License (Προαιρετικό): Εάν θέλετε να αφαιρέσετε υδατογραφήματα και να αποκτήσετε πλήρη λειτουργικότητα, σκεφτείτε να αγοράσετε μια άδεια[εδώ](https://purchase.aspose.com/buy) ή να δοκιμάσετε τη δωρεάν δοκιμή[εδώ](https://releases.aspose.com/).
## Εισαγωγή πακέτων
Πριν ξεκινήσουμε να γράφουμε τον κώδικα, ας βεβαιωθούμε ότι έχουμε εισαγάγει τα απαραίτητα πακέτα. Παρακάτω είναι μια σύντομη λίστα με το τι πρέπει να συμπεριλάβετε στην αρχή του αρχείου Java σας:
```java
import com.aspose.psd.Cache;
import com.aspose.psd.CacheType;
import com.aspose.psd.Color;
import com.aspose.psd.ColorPalette;
import com.aspose.psd.Image;
import com.aspose.psd.RasterImage;
import com.aspose.psd.imageoptions.GifOptions;
import com.aspose.psd.imageoptions.PsdOptions;
import com.aspose.psd.sources.StreamSource;
import com.aspose.psd.system.io.MemoryStream;
```
## Βήμα 1: Ρύθμιση του καταλόγου δεδομένων σας
Πρώτα πράγματα πρώτα, θα πρέπει να ρυθμίσετε έναν κατάλογο όπου θέλετε να αποθηκεύονται τα αρχεία προσωρινής μνήμης. Αυτό είναι απαραίτητο για την αποτελεσματική διαχείριση της προσωρινής μνήμης.
```java
String dataDir = "Your Document Directory";
Cache.setCacheFolder(dataDir);
```

- String dataDir: Ορίστε τον κατάλογο για την προσωρινή μνήμη εγγράφων σας.
- Cache.setCacheFolder(dataDir): Αυτή η μέθοδος ορίζει το φάκελο της προσωρινής μνήμης στον καθορισμένο κατάλογο. Οποιαδήποτε κρυφή μνήμη που δημιουργείται από την Aspose θα αποθηκεύεται τώρα εδώ αντί του προεπιλεγμένου προσωρινού καταλόγου.
## Βήμα 2: Διαμόρφωση της προσωρινής μνήμης σε δίσκο
Στη συνέχεια, θα καθορίσουμε ότι θέλουμε η κρυφή μνήμη μας να αποθηκεύεται μόνο στο δίσκο. Αυτό είναι ιδιαίτερα χρήσιμο εάν η εφαρμογή σας χρησιμοποιεί μεγάλα αρχεία και θέλετε να διασφαλίσετε ότι η μνήμη παραμένει ελεύθερη.
```java
Cache.setCacheType(CacheType.CacheOnDiskOnly);
```

- Cache.setCacheType(CacheType.CacheOnDiskOnly): Αυτή η επιλογή διασφαλίζει ότι η προσωρινή μνήμη δεν διατηρείται στη μνήμη, κάτι που είναι ευεργετικό για το χειρισμό μεγάλων αρχείων PSD χωρίς να καταναλώνεται υπερβολική RAM.
## Βήμα 3: Ρύθμιση μέγιστου μεγέθους δίσκου και προσωρινής μνήμης
Τώρα, ας περιορίσουμε τα μεγέθη της κρυφής μνήμης. Αυτό είναι κρίσιμο γιατί η απεριόριστη κρυφή μνήμη μπορεί να οδηγήσει σε προβλήματα απόδοσης.
```java
Cache.setMaxDiskSpaceForCache(1073741824); // 1 gigabyte
Cache.setMaxMemoryForCache(1073741824); // 1 gigabyte
```

- Cache.setMaxDiskSpaceForCache(1073741824): Αυτό θέτει ένα όριο 1 GB για την προσωρινή μνήμη στο δίσκο. Μπορείτε να προσαρμόσετε αυτό το μέγεθος ανάλογα με τις ανάγκες σας.
- Cache.setMaxMemoryForCache(1073741824): Ομοίως, αυτό περιορίζει την κρυφή μνήμη στη μνήμη, διασφαλίζοντας ότι η εφαρμογή σας δεν χρησιμοποιεί υπερβολική μνήμη.
## Βήμα 4: Διαχείριση στρατηγικής ανακατανομής προσωρινής μνήμης
Η διαχείριση του τρόπου ανακατανομής της προσωρινής μνήμης είναι απαραίτητη για τη διατήρηση της απόδοσης. Δείτε πώς μπορείτε να το ρυθμίσετε.
```java
Cache.setExactReallocateOnly(false);
```

- Cache.setExactReallocateOnly(false): Όταν ορίζεται σε false, αυτό επιτρέπει στο Aspose να διαχειρίζεται την ανακατανομή της προσωρινής μνήμης πιο ευέλικτα, κάτι που μπορεί να οδηγήσει σε καλύτερη απόδοση.
## Βήμα 5: Ελέγξτε το εκχωρημένο μέγεθος προσωρινής μνήμης
Αυτό το βήμα αφορά την παρακολούθηση πόσων byte έχουν εκχωρηθεί αυτήν τη στιγμή για την προσωρινή μνήμη στη μνήμη ή στο δίσκο. Ας το εφαρμόσουμε:
```java
long l1 = Cache.getAllocatedDiskBytesCount();
long l2 = Cache.getAllocatedMemoryBytesCount();
```

- long l1: Αποθηκεύει τον αριθμό των byte που έχουν εκχωρηθεί στο δίσκο.
- long l2: Αποθηκεύει τον αριθμό των byte που έχουν εκχωρηθεί στη μνήμη. 
Μπορείτε να ελέγξετε αυτές τις τιμές ανά πάσα στιγμή για να βεβαιωθείτε ότι η εφαρμογή σας διαχειρίζεται τη χρήση της μνήμης και του δίσκου όπως αναμένεται.
## Βήμα 6: Δημιουργία εικόνας PSD
Τώρα που έχουμε ρυθμίσει τις διαμορφώσεις προσωρινής μνήμης, ας δημιουργήσουμε μια απλή εικόνα PSD.
```java
PsdOptions options = new PsdOptions();
Color[] color = { Color.getRed(), Color.getBlue(), Color.getBlack(), Color.getWhite() };
options.setPalette(new ColorPalette(color));
options.setSource(new StreamSource(new ByteArrayInputStream(new byte[0])));
RasterImage image = (RasterImage) Image.create(options, 100, 100);
```

- Επιλογές PsdOptions: Αυτό το αντικείμενο σάς επιτρέπει να καθορίσετε επιλογές κατά τη δημιουργία μιας εικόνας Photoshop.
- Χρώμα[] χρώμα: Ένας πίνακας που περιέχει τα χρώματα που θα χρησιμοποιηθούν στην παλέτα εικόνων.
## Βήμα 7: Αποθήκευση δεδομένων Pixel στην εικόνα
Τώρα, ας συμπληρώσουμε την εικόνα μας με δεδομένα pixel και ας την αποθηκεύσουμε.
```java
Color[] pixels = new Color[10000];
for (int i = 0; i < pixels.length; i++) {
    pixels[i] = Color.getWhite();
}
image.savePixels(image.getBounds(), pixels);
```

- Χρώμα[] pixel: Πρόκειται για μια σειρά από έγχρωμα αντικείμενα. Εδώ, το γεμίζουμε με λευκά pixel.
- image.savePixels(image.getBounds(), pixels): Αυτή η μέθοδος αποθηκεύει τα δεδομένα pixel στην εικόνα. Ενημερώνει την εικόνα με τα χρώματα που έχουμε ορίσει.
## Βήμα 8: Παρακολούθηση εκχωρημένης προσωρινής μνήμης μετά τη δημιουργία εικόνας
Μετά τη δημιουργία της εικόνας, είναι καλή πρακτική να ελέγξετε ξανά πόσα byte έχουν εκχωρηθεί για την προσωρινή μνήμη.
```java
long diskBytes = Cache.getAllocatedDiskBytesCount();
long memoryBytes = Cache.getAllocatedMemoryBytesCount();
```

- long diskBytes: Καταγράφει την τρέχουσα κατανομή στο δίσκο μετά τη δημιουργία της εικόνας.
- long memoryBytes: Καταγράφει την τρέχουσα κατανομή στη μνήμη. 
Αυτό το βήμα θα σας βοηθήσει να προσδιορίσετε πόση μνήμη cache καταναλώνεται μετά τις εργασίες σας.
## Βήμα 9: Ελέγξτε για σωστή απόρριψη
Τέλος, είναι σημαντικό να διασφαλίσετε ότι όλα τα αντικείμενα Aspose.PSD απορρίφθηκαν σωστά για να αποφευχθούν διαρροές μνήμης.
```java
l1 = Cache.getAllocatedDiskBytesCount();
l2 = Cache.getAllocatedMemoryBytesCount();
```

- l1 και l2: Αυτές οι μεταβλητές θα σας βοηθήσουν να ελέγξετε την τελική κατανομή. Εάν δεν είναι μηδενικά, σημαίνει ότι ορισμένα αντικείμενα δεν έχουν απορριφθεί σωστά.
## Σύναψη
Ο έλεγχος της ανακατανομής της προσωρινής μνήμης στο Aspose.PSD για Java μπορεί να κάνει σημαντική διαφορά στην απόδοση της εφαρμογής σας. Ακολουθώντας τα βήματα που περιγράφονται παραπάνω, μπορείτε να διαχειριστείτε αποτελεσματικά τη μνήμη cache, να ελαχιστοποιήσετε τη χρήση της μνήμης και να δημιουργήσετε όμορφα αρχεία PSD αποτελεσματικά. Αγκαλιάστε αυτές τις τεχνικές και παρακολουθήστε τις εφαρμογές σας να αναπτύσσονται με βέλτιστη απόδοση!
## Συχνές ερωτήσεις
### Τι είναι το Aspose.PSD;
Το Aspose.PSD είναι μια βιβλιοθήκη για προγραμματιστές .NET και Java για τη δημιουργία, τον χειρισμό και τη μετατροπή αρχείων Photoshop (PSD) μέσω προγραμματισμού.
### Πώς μπορώ να ελέγξω το εκχωρημένο μέγεθος της προσωρινής μνήμης;
 Χρησιμοποιήστε μεθόδους όπως`Cache.getAllocatedDiskBytesCount()` και`Cache.getAllocatedMemoryBytesCount()` για την παρακολούθηση της τρέχουσας χρήσης της προσωρινής μνήμης.
### Μπορώ να ορίσω έναν προσαρμοσμένο κατάλογο για την προσωρινή μνήμη;
 Ναι, μπορείτε να καθορίσετε διαφορετικό κατάλογο χρησιμοποιώντας`Cache.setCacheFolder("Your Directory Path")`.
### Είναι το Aspose.PSD δωρεάν για χρήση;
Το Aspose.PSD είναι μια βιβλιοθήκη επί πληρωμή, αλλά μπορείτε να ξεκινήσετε με μια δωρεάν δοκιμή διαθέσιμη στο δικό τους[δικτυακός τόπος](https://releases.aspose.com/).
### Τι θα συμβεί αν δεν πετάξω αντικείμενα;
Η μη απόρριψη αντικειμένων μπορεί να οδηγήσει σε διαρροές μνήμης, με αποτέλεσμα η εφαρμογή σας να χρησιμοποιεί περισσότερους πόρους από τους απαραίτητους.
{{< /blocks/products/pf/tutorial-page-section >}}

{{< /blocks/products/pf/main-container >}}
{{< /blocks/products/pf/main-wrap-class >}}

{{< blocks/products/products-backtop-button >}}
