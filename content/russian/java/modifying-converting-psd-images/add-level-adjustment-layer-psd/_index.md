---
title: Добавьте корректирующий слой «Уровень» в PSD
linktitle: Добавьте корректирующий слой «Уровень» в PSD
second_title: Aspose.PSD Java API
description: Узнайте, как эффективно добавить корректирующий слой уровня в файлы PSD с помощью Aspose.PSD для Java. Совершенствуйте свои навыки редактирования изображений.
type: docs
weight: 16
url: /ru/java/modifying-converting-psd-images/add-level-adjustment-layer-psd/
---
## Введение
Когда дело доходит до редактирования изображений, управление уровнями может существенно повлиять на яркость и четкость ваших фотографий. Одним из удобных инструментов в арсенале Photoshop является «Корректирующий слой уровня», который позволяет настраивать тональный диапазон и цветовой баланс ваших изображений. В этом руководстве мы расскажем, как реализовать корректирующий слой уровня в PSD-файле с помощью Aspose.PSD для Java. Итак, возьмите свою Java IDE.
## Предварительные условия
Прежде чем погрузиться в мир регулировки уровня, вам необходимо настроить несколько вещей, чтобы обеспечить плавность хода:
1.  Java Development Kit (JDK): убедитесь, что на вашем компьютере установлен JDK. Если у вас его нет, вы можете получить его из[веб-сайт Oracle](https://www.oracle.com/java/technologies/javase-jdk11-downloads.html) или используйте OpenJDK.
2.  Aspose.PSD для библиотеки Java: для работы с PSD-файлами вам необходимо загрузить библиотеку Aspose.PSD. Вы можете получить последнюю версию отсюда[ссылка для скачивания](https://releases.aspose.com/psd/java/) и убедитесь, что вы включили JAR в библиотеку вашего проекта.
3. Базовые знания Java: Вам поможет фундаментальное понимание программирования на Java, поскольку в этом руководстве мы будем углубляться в фрагменты кода.
4. Настройка IDE. Для написания и выполнения кода можно использовать любую предпочитаемую Java IDE, например IntelliJ IDEA, Eclipse или NetBeans. Просто убедитесь, что вы настроили свой Java-проект и добавили библиотеку Aspose.PSD.

## Импортировать пакеты
Прежде чем мы начнем писать наш код, нам необходимо импортировать необходимые пакеты из библиотеки Aspose.PSD. Вот как вы можете это сделать:
```java
import com.aspose.psd.Image;
import com.aspose.psd.fileformats.psd.PsdImage;
import com.aspose.psd.fileformats.psd.layers.adjustmentlayers.LevelsLayer;
import com.aspose.psd.fileformats.psd.layers.layerresources.LevelChannel;
```
Импортировав эти пакеты, мы получим доступ к классам, необходимым для загрузки, изменения и сохранения наших PSD-файлов.

Теперь давайте разобьем процесс на удобоваримые этапы. Следуйте инструкциям по загрузке PSD-файла, настройке уровней и сохранению изменений. 
## Шаг 1. Настройте пути к файлам
Первый шаг — определить, где находится наш PSD-файл и где мы хотим сохранить измененный результат. Вы можете настроить путь к каталогу в соответствии со своими потребностями.
```java
String dataDir = "Your Document Directory";
String sourceFileName = dataDir + "LevelsAdjustmentLayer.psd";
String psdPathAfterChange = dataDir + "LevelsAdjustmentLayerChanged.psd";
```
 Вот замените`"Your Document Directory"`с фактическим путем в вашей системе, где хранится ваш PSD-файл. Это закладывает основу для всего, что мы будем делать дальше.
## Шаг 2. Загрузите PSD-файл
 Теперь давайте загрузим PSD-файл, используя`PsdImage` сорт. Этот шаг важен, поскольку он позволяет нам получать доступ к слоям и манипулировать ими.
```java
PsdImage im = (PsdImage) Image.load(sourceFileName);
```
 Когда ты звонишь`Image.load()` , он прочитает PSD-файл и создаст экземпляр`PsdImage` с которым вы можете работать.
## Шаг 3. Пройдитесь по слоям
Поскольку мы хотим настроить корректирующий слой уровня, нам нужно будет пройтись по каждому слою в нашем PSD-файле. Это помогает нам найти конкретный слой, который мы хотим изменить.
```java
for (int i = 0; i < im.getLayers().length; i++) {
    if (im.getLayers()[i] instanceof LevelsLayer) {
        LevelsLayer levelsLayer = (LevelsLayer) im.getLayers()[i];
        // Дальнейшие манипуляции будут идти сюда...
    }
}
```
 В этом цикле`instanceof LevelsLayer` проверяет, является ли текущий слой корректирующим слоем «Уровни». Если это так, мы можем приступить к настройке его свойств.
## Шаг 4. Отрегулируйте настройки канала уровня.
Как только мы определим правильный слой, мы сможем изменить его входные и выходные уровни. Вот где происходит волшебство! Настройте различные параметры, чтобы увидеть, как они повлияют на изображение.
```java
LevelChannel channel = levelsLayer.getChannel(0);
channel.setInputMidtoneLevel(2.0f);
channel.setInputShadowLevel((short) 10);
channel.setInputHighlightLevel((short) 230);
channel.setOutputShadowLevel((short) 20);
channel.setOutputHighlightLevel((short) 200);
```
Вот что делает каждый параметр:
- Входной уровень средних тонов: регулирует средние тона.
- Входной уровень тени: настраивает более темные области изображения.
- Входной уровень подсветки: изменяет яркие области изображения.
- Выходной уровень тени: определяет, как будут выглядеть темные тени.
- Выходной уровень подсветки: определяет, как будут выглядеть светлые блики.
Не стесняйтесь экспериментировать с разными значениями!
## Шаг 5. Сохраните измененный PSD-файл.
Теперь, когда мы внесли необходимые изменения, пришло время сохранить измененный PSD-файл. Этот шаг имеет решающее значение для обеспечения применения и сохранения ваших изменений.
```java
im.save(psdPathAfterChange);
```
 Теперь вы можете найти скорректированный PSD-файл по указанному адресу.`psdPathAfterChange`. 
## Заключение
Вы только что узнали, как добавить корректирующий слой уровня в PSD-файл с помощью Aspose.PSD для Java! Следуя этому руководству, вы сможете без особых усилий настроить тональное качество изображений, открывая путь к более ярким и визуально привлекательным результатам. Помните: практика ведет к совершенству, поэтому не стесняйтесь вносить изменения и изучать различные PSD-файлы, чтобы увидеть эффект от ваших изменений.
## Часто задаваемые вопросы
### Что такое корректирующий слой уровня?
Корректирующий слой «Уровень» позволяет корректировать тональный диапазон изображений, балансируя тени, средние тона и светлые участки.
### Могу ли я использовать Aspose.PSD без покупки?
Да! Aspose предлагает бесплатную пробную версию библиотеки перед покупкой.
### Где я могу найти документацию для Aspose.PSD?
 Вы можете найти документацию[здесь](https://reference.aspose.com/psd/java/).
### Есть ли поддержка продуктов Aspose со стороны сообщества?
 Абсолютно! Вы можете задать вопросы и получить поддержку в[Aspose форум](https://forum.aspose.com/c/psd/34).
### Как я могу получить временную лицензию на Aspose.PSD?
 Вы можете подать заявление на получение временной лицензии[здесь](https://purchase.aspose.com/temporary-license/).